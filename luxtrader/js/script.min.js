"use strict";function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(e){e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")}));var img=document.querySelectorAll("._ibg");Array.prototype.forEach.call(img,(function(e){e.querySelector("img")&&(e.style.backgroundImage="url("+e.querySelector("img").getAttribute("src")+")")}));var PLACEHOLDER_OPACITY=.5,inputs=document.querySelectorAll(".input");inputs&&[].forEach.call(inputs,(function(e){var t=e.getAttribute("data-value"),o=!0;e.isPlaceholder=o,t&&(e.style.color="rgba(39, 39, 39, ".concat(PLACEHOLDER_OPACITY,")"),e.value=t),e.addEventListener("focus",(function(){o&&(e.value="",o=!1,e.isPlaceholder=o,e.style.color="rgba(39, 39, 39, 1)")})),e.addEventListener("blur",(function(){""===e.value&&(e.value=t,o=!0,e.isPlaceholder=o,e.style.color="rgba(39, 39, 39, ".concat(PLACEHOLDER_OPACITY,")"))}))}));var w,h,form=document.querySelector(".form");function formValidate(){var e=0,t=document.querySelectorAll(".req");return[].forEach.call(t,(function(t){formRemoveError(t),t.classList.contains("email")?emailTest(t)&&(formAddError(t),e++):("checkbox"===t.getAttribute("type")&&!1===t.checked||""===t.value||t.isPlaceholder)&&(formAddError(t),e++)})),e}function formAddError(e){e.parentElement.parentElement.classList.add("_err"),e.classList.add("_err"),e.value="Ошибка"}function formRemoveError(e){e.parentElement.parentElement.classList.remove("_err"),e.classList.remove("_err")}function emailTest(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}function resize(){adiptiveHeader("menu__body","actions-header__region","actions-header",1),adiptiveHeader("footer","footer__info","footer__column")}function adiptiveHeader(e,t,o){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=document.querySelector("."+e),i=document.querySelector("."+t),c=document.querySelector("."+o);w<=768?i.classList.contains("done")||(i.classList.add("done"),n.append(i)):(i=n.querySelector("."+t))&&i.classList.contains("done")&&(i.classList.remove("done"),i.classList.contains(t+"--right")?c.parentNode.lastChild.previousSibling.append(i):0==r?c.append(i):(c.prepend(i),console.log("pre")))}form&&form.addEventListener("submit",(function(e){0===formValidate(form)||e.preventDefault()})),w=window.outerWidth,h=window.outerHeight,window.addEventListener("resize",(function(){w=window.outerWidth,h=window.outerHeight,resize()})),resize();var menuIcon=document.querySelector(".icon-menu"),menu=document.querySelector(".menu__body"),links=document.querySelectorAll(".menu__link");function toggleClass(e){menuIcon.classList.toggle(e),menu.classList.toggle(e),[].forEach.call(links,(function(e){e.classList.toggle("_active")})),document.body.classList.toggle("lock")}menuIcon.addEventListener("click",(function(){function e(){toggleClass("_active"),[].forEach.call(links,(function(t){t.removeEventListener("click",e)}))}toggleClass("_active"),[].forEach.call(links,(function(t){t.addEventListener("click",e)}))}));var mySwiper=new Swiper(".main-slider__body",{loop:!0,speed:500,navigation:{nextEl:".control-main-slider__arrow--next",prevEl:".control-main-slider__arrow--prev"},breakpoints:{320:{autoHeight:!0},768:{autoHeight:!1}}}),myLotsSwiper=new Swiper(".lots__slide",{loop:!0,speed:800,navigation:{nextEl:".lots-slider-next",prevEl:".lots-slider-prev"},breakpoints:{320:{autoHeight:!0,slidesPerView:1},500:{slidesPerView:2},768:{autoHeight:!1,slidesPerView:3},975:{slidesPerView:3}}}),myQuotesSwiper=new Swiper(".slider-quotes__slider",{loop:!0,speed:800,effect:"fade",autoHeight:!1,slidesPerView:1,navigation:{nextEl:".control-slider-quotes__circle"},breakpoints:{320:{autoHeight:!0},650:{autoHeight:!1}}}),userIcon=document.querySelector(".user-header__icon"),userMenu=document.querySelector(".user-header__menu");userIcon&&(userIcon.addEventListener("click",(function(e){e.stopPropagation(),userMenu&&userMenu.classList.toggle("_active")})),window.addEventListener("click",(function(e){userMenu&&userMenu.classList.remove("_active")})));var menuHeader=document.querySelector(".header"),mainBlock=document.querySelector(".mainblock"),scrolled=!1,blocks=[],current=0,gotos=document.querySelectorAll("._goto");function getBlocks(){[].forEach.call(links,(function(e){blocks.push(document.querySelector("."+e.getAttribute("href").split("#")[1]))}))}gotos&&[].forEach.call(gotos,(function(e){e.parentNode.addEventListener("click",(function(){menuIcon&&menuIcon.classList.contains("_active")&&toggleClass("_active");var t=e.getAttribute("href");if(t){var o=document.querySelector("."+t.split("#")[1]).getBoundingClientRect();window.scrollTo({top:o.top+pageYOffset-menuHeader.offsetHeight,behavior:"smooth"})}}))})),getBlocks(),window.addEventListener("scroll",(function(e){var t=[];Array.prototype.forEach.call(blocks,(function(e){t.push(Math.abs(e.getBoundingClientRect().top))}));var o=Math.min.apply(Math,t),r=t.indexOf(o);r!=current&&(current=r,Array.prototype.forEach.call(links,(function(e){e.classList.remove("_current")})),links[r].classList.add("_current"))}));